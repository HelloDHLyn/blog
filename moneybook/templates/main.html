{% extends 'base.html' %}
{% block style %}
{% load staticfiles %}
<title>가계부 메인 | LYnMoneybook</title>
<link rel="stylesheet" type="text/css" href="{% static '/css/moneybook.css' %}">
{% endblock %}
{% block content %}
{% load humanize %}
<div class="ui container">
    <h1>{{ year }}년 {{ month }}월 가계부</h1>
    <div class="ui divider"></div>
    <div class="ui mini statistics" id="monthly-statistics">
        <div class="statistic">
            <div class="value">￦ {{ expense_sum|intcomma }}</div>
            <div class="label">지출</div>
        </div>
        <div class="statistic">
            <div class="value">￦ {{ income_sum|intcomma }}</div>
            <div class="label">수입</div>
        </div>
        <div class="statistic">
            <div class="value">￦ {{ net_income|intcomma }}</div>
            <div class="label">순수입</div>
        </div>
    </div>
    <table class="ui single line striped table">
        <thead>
        <tr>
            <th>유형</th>
            <th>사용처</th>
            <th class="right aligned">금액</th>
            <th class="right aligned">일시</th>
        </tr>
        </thead>
        <tbody>
        {% for transaction in transactions %}
        <tr class="data-transaction">
            <td>{% if transaction.type == 'EXPENSE' %}지출{% else %}수입{% endif %}</td>
            <td>{{ transaction.place }}</td>
            <td class="right aligned">{% if transaction.type == 'INCOME' %}+ {% endif %}{{ transaction.price|intcomma }} 원</td>
            <td class="right aligned">{{ transaction.timestamp }}</td>
        </tr>
        {% endfor %}
        </tbody>
    </table>
</div>
{% endblock %}
